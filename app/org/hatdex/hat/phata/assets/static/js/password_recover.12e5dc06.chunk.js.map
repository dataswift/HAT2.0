{"version":3,"sources":["components/user/PasswordRecover/PasswordRecover.tsx"],"names":["PasswordRecover","useState","email","setEmail","hatName","setHatName","hatDomain","setHatDomain","errorMsg","setErrorMsg","successMsg","setSuccessMsg","resetPassword","a","recoverPassword","console","warn","useEffect","host","window","location","hostname","substring","indexOf","className","hideMobile","fixed","id","type","name","value","onChange","e","target","placeholder","onFocus","onClick"],"mappings":"8NA6EeA,UAxEmB,WAAO,IAAD,EACZC,mBAAS,IADG,mBAC/BC,EAD+B,KACxBC,EADwB,OAERF,mBAAS,IAFD,mBAE/BG,EAF+B,KAEtBC,EAFsB,OAGJJ,mBAAS,IAHL,mBAG/BK,EAH+B,KAGpBC,EAHoB,OAINN,mBAAS,IAJH,mBAI/BO,EAJ+B,KAIrBC,EAJqB,OAKFR,mBAAS,IALP,mBAK/BS,EAL+B,KAKnBC,EALmB,KAOhCC,EAAa,uCAAG,sBAAAC,EAAA,+EAEAC,YAAgB,CAAEZ,MAAOA,IAFzB,eAIhBS,EACE,8HALc,gDAUlBI,QAAQC,KAAK,uCAAb,MACAP,EAAY,sDAXM,yDAAH,qDAsBnB,OAPAQ,qBAAU,WACR,IAAMC,EAAOC,OAAOC,SAASC,SAE7BhB,EAAWa,EAAKI,UAAU,EAAGJ,EAAKK,QAAQ,OAC1ChB,EAAaW,EAAKI,UAAUJ,EAAKK,QAAQ,SACxC,IAGD,yBAAKC,UAAW,wCACd,kBAAC,IAAD,CAAYC,YAAU,EAACC,OAAK,IAC5B,0BAAMF,UAAW,sBAEjB,yBAAKA,UAAU,mDACb,yBAAKA,UAAU,YACb,4BAAKpB,IAEP,yBAAKoB,UAAU,cACb,4BAAKlB,KAGT,2BACEqB,GAAG,WACHC,KAAK,QACLJ,UAAU,mBACVK,KAAK,iBACLC,MAAO5B,EACP6B,SAAU,SAAAC,GAAC,OAAI7B,EAAS6B,EAAEC,OAAOH,QACjCI,YAAY,qCACZC,QAAS,kBAAM1B,EAAY,OAE5BC,GAAc,yBAAKc,UAAW,qCAAsCd,GACpEF,GAAY,yBAAKgB,UAAW,mCAAoChB,GAEjE,yBAAKgB,UAAU,gCAAf,gFAIA,0BAAMA,UAAW,sBAEjB,yBAAKA,UAAU,gBACb,4BAAQI,KAAK,SAASJ,UAAU,iBAAiBY,QAAS,kBAAMxB,MAAhE,mBAKF,0BAAMY,UAAW","file":"static/js/password_recover.12e5dc06.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './PasswordRecover.scss';\nimport { recoverPassword } from '../../../api/hatAPI';\nimport { InfoHeader } from \"../../headers/InfoHeader/InfoHeader\";\n\nconst PasswordRecover: React.FC = () => {\n  const [email, setEmail] = useState('');\n  const [hatName, setHatName] = useState('');\n  const [hatDomain, setHatDomain] = useState('');\n  const [errorMsg, setErrorMsg] = useState('');\n  const [successMsg, setSuccessMsg] = useState('');\n\n  const resetPassword = async () => {\n    try {\n      const res = await recoverPassword({ email: email });\n      if (res) {\n        setSuccessMsg(\n          'If the email address you have entered is correct, you will shortly receive an email' +\n            ' with your password reset instructions.'\n        );\n      }\n    } catch (error) {\n      console.warn('Failed to recover password. Reason: ', error);\n      setErrorMsg('ERROR: Failed to submit password recovery request.');\n    }\n  };\n\n  useEffect(() => {\n    const host = window.location.hostname;\n\n    setHatName(host.substring(0, host.indexOf('.')));\n    setHatDomain(host.substring(host.indexOf('.')));\n  }, []);\n\n  return (\n    <div className={'password-recover flex-column-wrapper'}>\n      <InfoHeader hideMobile fixed />\n      <span className={'flex-spacer-small'} />\n\n      <div className=\"password-recover-title title-hat-domain-wrapper\">\n        <div className=\"hat-name\">\n          <h3>{hatName}</h3>\n        </div>\n        <div className=\"hat-domain\">\n          <h3>{hatDomain}</h3>\n        </div>\n      </div>\n      <input\n        id=\"hatEmail\"\n        type=\"email\"\n        className=\"hat-rumpel-input\"\n        name=\"hat-pass-input\"\n        value={email}\n        onChange={e => setEmail(e.target.value)}\n        placeholder=\"Enter HAT-registered email address\"\n        onFocus={() => setErrorMsg('')}\n      />\n      {successMsg && <div className={'notification notification-success'}>{successMsg}</div>}\n      {errorMsg && <div className={'notification notification-error'}>{errorMsg}</div>}\n\n      <div className=\"password-recover-description\">\n        If you are the owner of this HAT, please enter your registered email address\n      </div>\n\n      <span className={'flex-spacer-small'} />\n\n      <div className=\"user-actions\">\n        <button type=\"submit\" className=\"btn btn-accent\" onClick={() => resetPassword()}>\n          Reset Password\n        </button>\n      </div>\n\n      <span className={'flex-spacer-small'} />\n    </div>\n  );\n};\n\nexport default PasswordRecover;\n"],"sourceRoot":""}