{"version":3,"sources":["assets/images/hat-data-rights.png","components/DateRangePickerRumpel/DateRangePickerRumpel.tsx","features/feed/FeedUserActions.tsx","assets/icons/she-facebook.svg","assets/icons/she-twitter.svg","assets/icons/she-fitbit.svg","assets/icons/she-instagram.svg","assets/icons/she-google.svg","assets/icons/she-spotify.svg","assets/icons/she-she.svg","assets/icons/she-wordcloud.svg","components/Feed/FeedSourceImg/FeedSourceImg.tsx","assets/icons/she-sentiment.svg","components/Feed/FeedDefaultItem/FeedDefaultItem.tsx","components/Feed/WeeklySummary/WeeklySummaryList.tsx","components/Feed/WeeklySummary/helper.ts","components/Feed/WeeklySummary/WeeklySummary.tsx","assets/images/weekly_summary_header_image.png","assets/icons/tools_icon.png","features/feed/FeedItem.tsx","features/feed/FeedRollup.tsx","features/feed/FeedList.tsx","components/Feed/FeedLoading/FeedLoading.tsx","features/feed/FeedFilteredDataList.tsx","components/InfiniteScrolling/InfiniteScrolling.tsx","features/feed/Feed.tsx"],"names":["DateRangePickerRumpel","selectedDates","useState","startDate","Date","endDate","key","state","setState","className","onChange","range","selection","showSelectionPreview","moveRangeOnFirstSelection","ranges","showMonthArrow","direction","months","onClick","since","getUnixTime","startOfDay","until","endOfDay","onDone","FeedUserActions","onSelectedDates","onRefresh","onGoToToday","hideDateRangePicker","setHideDateRangePicker","style","margin","imgSrc","facebook","facebookIcon","twitter","twitterIcon","fitbit","fitbitIcon","instagram","instagramIcon","google","googleIcon","spotify","spotifyIcon","she","sheIcon","sentiment","wordCloud","wordCloudIcon","drops","placeholder","placeholderIcon","FeedSourceImg","source","types","height","width","imageAsset","split","src","indexOf","imageSource","alt","FeedDefaultItem","feedItem","expanded","setExpanded","overflowing","setOverflowing","content","useRef","useEffect","current","clientHeight","scrollHeight","title","text","media","ref","trim","location","address","name","street","city","country","format","date","iso","length","backgroundImage","url","WeeklySummaryList","nestedStructure","map","row","index","badge","transformWeeklySummary","structure","weeklySummaryArray","hasSentiment","hasFitbit","contentSentiment","badgeSentiment","contentFitbit","badgeFitbit","Object","keys","includes","push","WeeklySummary","subtitle","FeedItem","FeedRollupItem","rolledUpItem","rollup","FeedRollup","sheFeed","rollupFeed","setRollupFeed","rolledUp","reduce","accumulator","sheItem","FeedList","dayGroupedFeed","loading","lastFeedElementIntersecting","observer","lastFeedElementRef","useCallback","node","disconnect","IntersectionObserver","entries","isIntersecting","observe","id","day","data","FeedLoading","fetchingData","filteredData","dataRightsIcons","FeedFilteredData","feed","useSelector","selectSheFeedDisplayData","fetching","selectSheFeedFetching","dispatch","useDispatch","getSheFeedFilteredData","InfiniteScrolling","getInitSheFeed","getMoreSheFeedData","Feed","feedState","setFeedState","setSelectedDates","resetSheFeedValues","privateSpaceContent","document","getElementById","scrollTop"],"mappings":"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","file":"static/js/feed.1843615e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/hat-data-rights.27c31876.png\";","import React, { useState } from 'react';\nimport './DateRangePickerRumpel.scss';\n// @ts-ignore\nimport { DateRange, Range } from 'react-date-range';\nimport { endOfDay, getUnixTime, startOfDay } from \"date-fns\";\n\ntype Props = {\n    selectedDates: (since: number, until: number) => void;\n}\n\nexport const DateRangePickerRumpel: React.FC<Props> = ({ selectedDates }) => {\n  const [state, setState] = useState([\n    {\n      startDate: new Date(),\n      endDate: new Date(),\n      key: 'selection'\n    }\n  ]);\n\n  const onChange = (range: Range) => {\n    // @ts-ignore\n    setState([range.selection]);\n  };\n\n  const onDone = () => {\n    const since = getUnixTime(startOfDay(state[0].startDate));\n    const until = getUnixTime(endOfDay(state[0].endDate));\n\n    selectedDates(since, until);\n  };\n\n  return (\n    <div className={'date-range-picker-rumpel'}>\n      <DateRange\n        onChange={onChange}\n        showSelectionPreview={false}\n        moveRangeOnFirstSelection={false}\n        ranges={state}\n        showMonthArrow={true}\n        direction={'horizontal'}\n        months={1}\n      />\n      <button className={'btn btn-accent date-range-picker-rumpel-done'}\n        onClick={() => onDone()}>\n          Done\n      </button>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { DateRangePickerRumpel } from \"../../components/DateRangePickerRumpel/DateRangePickerRumpel\";\n\ntype Props = {\n  onSelectedDates: (since: number, until: number) => void;\n  onRefresh: () => void;\n  onGoToToday: () => void;\n}\n\nexport const FeedUserActions: React.FC<Props> = ({ onSelectedDates, onRefresh, onGoToToday }) => {\n  const [hideDateRangePicker, setHideDateRangePicker] = useState(true);\n\n  const selectedDates = (since: number, until: number) => {\n    onSelectedDates(since, until);\n    setHideDateRangePicker(true);\n  };\n\n  return (\n    <div className=\"feed-user-actions\">\n      {!hideDateRangePicker &&\n        <div style={{ margin: 'auto' }}>\n          <DateRangePickerRumpel selectedDates={(since, until) => selectedDates(since, until)}/>\n        </div>\n      }\n      <div className=\"feed-user-actions-content\">\n        <button className=\"filter-button\" onClick={() => setHideDateRangePicker(!hideDateRangePicker)}>\n          <i className={'material-icons'}>filter_list</i>\n            Filter\n        </button>\n        <button className=\"today-button\" onClick={() => onGoToToday()}>\n          <i className={'material-icons'}>fullscreen_exit</i>\n        Today\n        </button>\n        <button className=\"today-button\" onClick={() => onRefresh()}>\n          <i className={'material-icons'}>refresh</i>\n        Refresh\n        </button>\n      </div>\n    </div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/she-facebook.09f9d1f6.svg\";","export default __webpack_public_path__ + \"static/media/she-twitter.52c1dc4c.svg\";","export default __webpack_public_path__ + \"static/media/she-fitbit.3cd2ac03.svg\";","export default __webpack_public_path__ + \"static/media/she-instagram.bde67fa7.svg\";","export default __webpack_public_path__ + \"static/media/she-google.a2ae4eca.svg\";","export default __webpack_public_path__ + \"static/media/she-spotify.7bca3e3a.svg\";","export default __webpack_public_path__ + \"static/media/she-she.7778bd3d.svg\";","export default __webpack_public_path__ + \"static/media/she-wordcloud.f5b5901a.svg\";","import React from \"react\";\nimport facebookIcon from \"../../../assets/icons/she-facebook.svg\";\nimport twitterIcon from \"../../../assets/icons/she-twitter.svg\";\nimport fitbitIcon from \"../../../assets/icons/she-fitbit.svg\";\nimport instagramIcon from \"../../../assets/icons/she-instagram.svg\";\nimport googleIcon from \"../../../assets/icons/she-google.svg\";\nimport spotifyIcon from \"../../../assets/icons/she-spotify.svg\";\nimport sheIcon from \"../../../assets/icons/she-she.svg\";\nimport wordCloudIcon from \"../../../assets/icons/she-wordcloud.svg\";\nimport sentimentIcon from \"../../../assets/icons/she-sentiment.svg\";\nimport placeholderIcon from \"../../../assets/icons/app-logo-placeholder.svg\";\n\ntype Props = {\n    source: string;\n    height?: string;\n    width?: string;\n    types?: string[];\n    className?: string;\n}\n\nconst imgSrc: Record<string, any> = {\n  facebook: facebookIcon,\n  twitter: twitterIcon,\n  fitbit: fitbitIcon,\n  instagram: instagramIcon,\n  google: googleIcon,\n  spotify: spotifyIcon,\n  she: sheIcon,\n  sentiment: sentimentIcon,\n  wordCloud: wordCloudIcon,\n  drops: sheIcon,\n  placeholder: placeholderIcon\n};\n\nexport const FeedSourceImg: React.FC<Props> = ({ source, types, height, width, className }) => {\n  const imageSource = (source: string, types?: string[]) => {\n    if (source === 'she') {\n      if (types && types.indexOf('sentiment') !== -1) {\n        return 'sentiment';\n      } else {\n        return 'she';\n      }\n    } else if (source === 'drops') {\n      if (types && types.indexOf('wordcloud') !== -1) {\n        return 'wordcloud';\n      } else {\n        return 'she';\n      }\n    } else {\n      return imageAsset(source);\n    }\n  };\n\n  const imageAsset = (source: string): string => {\n    return source.split('-')[0] || 'she';\n  };\n\n  return (\n    <img \n      src={imgSrc[imageSource(source, types)] || imgSrc['placeholder']}\n      height={height}\n      width={width}\n      className={className}\n      alt={source}\n    />\n  );\n};\n","export default __webpack_public_path__ + \"static/media/she-sentiment.a752ed27.svg\";","import React, { useEffect, useRef, useState } from \"react\";\nimport './FeedDefaultItem.scss';\n\nimport { format } from \"date-fns\";\nimport { SheFeed } from \"../../../features/feed/she-feed.interface\";\nimport { FeedSourceImg } from \"../FeedSourceImg/FeedSourceImg\";\n\ntype Props = {\n    feedItem: SheFeed;\n}\n\nexport const FeedDefaultItem: React.FC<Props> = ({ feedItem }) => {\n  const [expanded, setExpanded] = useState(false);\n  const [overflowing, setOverflowing] = useState(false);\n  const content = useRef<HTMLObjectElement>(null);\n\n  useEffect(() => {\n    if (!content.current) return;\n\n    setOverflowing(content.current?.clientHeight < content.current?.scrollHeight);\n  }, [feedItem]);\n\n  return (\n    <div className=\"feed-item\">\n      <div className=\"img-wrapper\">\n        <FeedSourceImg\n          source={feedItem.source}\n          types={feedItem.types}\n          height=\"35\" width=\"35\"/>\n        <div className=\"arrow-left\" />\n      </div>\n      <div className=\"feed-card\">\n        <div className=\"feed-card-header\">\n          <h4 className=\"card-header-title\">{feedItem.title?.text}</h4>\n          <span className=\"flex-spacer\" />\n        </div>\n        {feedItem.content && !feedItem.content.media && (\n          <>\n            <div className=\"feed-card-content no-image\">\n              {feedItem.content.text && (\n                <div className={`feed-item-content ${ expanded ? 'expanded' : '' }`}\n                  ref={content}>\n                  {feedItem.content.text.trim()}\n                </div>\n              )}\n              {feedItem.location && feedItem.location.address && (\n                <div>\n                  <div>{feedItem.location.address.name}</div>\n                  <div>{feedItem.location.address.street}</div>\n                  <div>{feedItem.location.address.city}</div>\n                  <div>{feedItem.location.address.country}</div>\n                </div>\n              )}\n            </div>\n            <div className=\"feed-card-footer\">\n              <span>Posted {format(new Date(feedItem.date.iso), 'dd MMM yyyy h:mma')}</span>\n              <span className=\"flex-spacer-small\"/>\n              {!expanded && overflowing && (\n                <span className=\"card-expand-tag\" onClick={() => setExpanded(true)}>Show More</span>\n              )}\n            </div>\n          </>\n        )}\n        {feedItem.content && feedItem.content.media && feedItem.content.media.length > 0 && (\n          <div className=\"feed-card-content single-image\"\n            data-testid={'feed-card-content-image'}\n            style={{ backgroundImage: `url(${ feedItem.content.media[0].url })` }}>\n            <div className=\"feed-item-overlay\">\n              <div className=\"feed-item-overlay-content\">{feedItem.content.text}</div>\n              <div className=\"feed-item-overlay-footer\">\n                    Posted {format(new Date(feedItem.date.iso), 'dd MMM yyyy h:mma') }\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport './WeeklySummary.scss';\nimport { FeedSourceImg } from \"../FeedSourceImg/FeedSourceImg\";\n\ntype Props = {\n    nestedStructure?: { source: string; content: string; badge: string; }[] | null;\n}\n\nexport const WeeklySummaryList: React.FC<Props> = ({ nestedStructure }) => {\n\n  if (!nestedStructure) return  null;\n\n  return (\n    <div className={'weekly-summary-list'}>\n      {nestedStructure.map((row, index) => {\n        return (\n          <div className={'weekly-summary-mat-list-item'} key={row.source + index}>\n            <div className=\"source-content\">\n              <FeedSourceImg\n                className={'source-icon'}\n                source={row.source}\n                height=\"25\" width=\"25\"/>\n              <div className=\"weekly-summary-list-row-content\">{row.content}</div>\n            </div>\n            <h5 className=\"weekly-summary-list-row-badge\">{row.badge}</h5>\n          </div>\n        );\n      })\n      }\n    </div>\n  );\n};\n","import { SheNestedStructure } from \"../../../features/feed/she-feed.interface\";\n\nexport const transformWeeklySummary = (structure?: { [key: string]: SheNestedStructure[] } )\n    : { source: string; content: string; badge: string; }[] | null => {\n  const weeklySummaryArray = [];\n  let hasSentiment = false;\n  let hasFitbit = false;\n  let contentSentiment = '';\n  let badgeSentiment = '';\n  let contentFitbit = '';\n  let badgeFitbit = '';\n\n  if (!structure) return null;\n\n  Object.keys(structure).map( key => {\n    if (key.includes('sentiment')) {\n      contentSentiment += structure[key][0].content + '\\n';\n      badgeSentiment += structure[key][0].badge + '\\n';\n      hasSentiment = true;\n    } else if (key.includes('fitbit')) {\n      contentFitbit += structure[key][0].content + '\\n';\n      badgeFitbit += structure[key][0].badge + '\\n';\n      hasFitbit = true;\n    } else {\n      weeklySummaryArray.push({ source: key, content: structure[key][0].content, badge: structure[key][0].badge });\n    }\n\n    return key;\n  });\n\n  if (hasSentiment) {\n    weeklySummaryArray.push({ source: 'sentiment', content: contentSentiment.trim(), badge: badgeSentiment });\n  }\n  if (hasFitbit) {\n    weeklySummaryArray.push({ source: 'fitbit', content: contentFitbit.trim(), badge: badgeFitbit });\n  }\n\n  return weeklySummaryArray;\n};\n","import React from \"react\";\nimport './WeeklySummary.scss';\nimport toolsIcon from \"../../../assets/icons/tools_icon.png\";\nimport { SheFeed } from \"../../../features/feed/she-feed.interface\";\nimport { WeeklySummaryList } from \"./WeeklySummaryList\";\nimport weeklySummaryHeaderImage from '../../../assets/images/weekly_summary_header_image.png';\nimport { transformWeeklySummary } from \"./helper\";\n\ntype Props = {\n    feedItem: SheFeed;\n}\n\nexport const WeeklySummary: React.FC<Props> = ({ feedItem }) => {\n\n  return (\n    <div className=\"feed-item\">\n      <div className=\"weekly-summary-row\">\n        <div className=\"weekly-summary-header-container\"\n          style={{ backgroundImage: `url(${ weeklySummaryHeaderImage })` }}>\n          <div className=\"title-container\">\n            <div className=\"weekly-summary-title\">{feedItem.title?.text}</div>\n            <div className=\"weekly-summary-subtitle\">{feedItem.title?.subtitle}</div>\n          </div>\n\n          <div className=\"weekly-summary-icon-container\">\n            <img src={toolsIcon} alt=\"Tool icon\" width=\"26\" height=\"26\" />\n          </div>\n        </div>\n        <WeeklySummaryList nestedStructure={transformWeeklySummary(feedItem.content?.nestedStructure)}/>\n      </div>\n    </div>\n  );\n};\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAkFJREFUaAXtmE1OwzAQhRN6CJbtATgE296GNSdgCctKCCEEZ2BbiYuEA7CBDazCe5YHJa7dOk6ndlBGmjoZ2+Nvxj9JU1WzzBmYMxCVgbZtr6AXocasY5tQ/SG7tv/KAv6g3EDPBYjX1sa6YIDSPlSyL1TNvxnXgqJoP6HXVnlN2YTgYu30YTwp+ecsMNsCbMcyBW1/sxIL7LajD6iafzMeBmDmXbl2YVLv4XiQ/7OEgWpPH5/N0yzK5PPls0U56zVCdlSnWNs/94DqJlP1D+eqx5y2f2Z/2g+y3mYYeIPgl9A36Bf0FroY6CJfc8CuoA20K8+4STkBTxsIILvw37h/7UTxVHQQHvg1bDX0HiryiIvyZgJQbubXMveoc4N4oE3qs5f74AXOE8SN1GUtY+AF0AYhe+JD7NlKBx63ZsMGlwbquSe4sSnbbOAcGADdNW+I7A837E4QsHXhG9wvswWAwUPwqDLSCwIWF35VMryNwRydPH0mCS9BcMPKmueymUTmBb5bzvDJe4bTDmUGU2Rv5uFQ9XW9wgBq8Mwo/Ov9YdKGlyWBcY7/l/VU8HYWjvvR4JTwnVk4znchwsPpFprymH9Hv8u6rhuUQ2Xn1QMOfLaw3xyZJw3GHb+EcsHbAMZt4szw445RwC+hDTRF2G/FLKYK+o97kMEBv9ukyGj41KB7/UDOj05DpQx4RgLyu4H05cDbABYI4CUyiLLgZS0BPiaIMuEjgygb/kAQ04B3guDG5unEIzblnUjczeW/zcAve4y+HwV/l2kAAAAASUVORK5CYII=\"","import React  from \"react\";\nimport { SheFeed } from \"./she-feed.interface\";\nimport { FeedDefaultItem } from \"../../components/Feed/FeedDefaultItem/FeedDefaultItem\";\nimport { WeeklySummary } from \"../../components/Feed/WeeklySummary/WeeklySummary\";\n\ntype Props = {\n    feedItem: SheFeed;\n}\n\nexport const FeedItem: React.FC<Props> = ({ feedItem }) => {\n\n  if (feedItem.types.includes('insight') && feedItem.types.includes('activity')) {\n    return <WeeklySummary feedItem={feedItem} />;\n  } else if (!(feedItem.types.includes('insight') && feedItem.types.includes('activity'))) {\n    return <FeedDefaultItem feedItem={feedItem}/>;\n  } else {\n    return null;\n  }\n};\n","import React, { useEffect, useState } from \"react\";\nimport { SheFeed } from \"./she-feed.interface\";\nimport { FeedItem } from \"./FeedItem\";\n\nconst MIN_ROLLUP_ITEMS = 3;\n\ntype Props = {\n    sheFeed: SheFeed[]\n}\n\ntype RolledUpFeed = Array<{ expanded: boolean; rollup: Array<SheFeed>; }>;\n\ntype PropsItem = {\n    rolledUpItem: { expanded: boolean; rollup: Array<SheFeed>; };\n}\n\nconst FeedRollupItem: React.FC<PropsItem> = ({ rolledUpItem }) => {\n  const [expanded, setExpanded] = useState(true);\n\n  useEffect(() => {\n    setExpanded(rolledUpItem.expanded);\n  }, [rolledUpItem]);\n\n  if ((rolledUpItem.rollup.length < MIN_ROLLUP_ITEMS) || expanded) {\n    return (\n      <>\n        {\n          rolledUpItem.rollup.map((feedItem, index) => {\n            return <FeedItem key={feedItem.source + index} feedItem={feedItem}/>;\n          })\n        }\n      </>\n    );\n  } else {\n    return (\n      <div>\n        <FeedItem feedItem={rolledUpItem.rollup[0]}/>\n        <button \n          className={'feed-item-rollup-control'} \n          onClick={() => setExpanded(!expanded)}>\n            See {rolledUpItem.rollup.length - 1} more items\n        </button>\n      </div>\n    );\n  }\n};\n\nexport const FeedRollup: React.FC<Props> = ({ sheFeed }) => {\n  const [rollupFeed, setRollupFeed] = useState<RolledUpFeed>([]);\n\n  useEffect(() => {\n    const rolledUp = sheFeed\n      .reduce<RolledUpFeed>((accumulator, sheItem: SheFeed, index: number, sheFeed: SheFeed[]) => {\n        const previousSource = index > 0 ? sheFeed[index - 1].source : null;\n\n        if (previousSource === sheItem.source) {\n          accumulator[accumulator.length - 1].rollup.push(sheItem);\n        } else {\n          accumulator.push({ expanded: false, rollup: [sheItem] });\n        }\n\n        return accumulator;\n      }, []);\n\n    setRollupFeed(rolledUp);\n  }, [sheFeed]);\n\n  return (\n    <div>\n      {rollupFeed.map((rolledUpItem, index) => {\n        return <FeedRollupItem rolledUpItem={rolledUpItem} key={'rollupindex' + index}/>;\n      })}\n    </div>\n  );\n};\n","import React, { useCallback, useRef } from \"react\";\nimport { DayGroupedSheFeed } from \"./she-feed.interface\";\nimport { FeedRollup } from \"./FeedRollup\";\n\ntype Props = {\n    dayGroupedFeed: DayGroupedSheFeed[];\n    loading?: boolean | null;\n    lastFeedElementIntersecting?: () => void | null;\n}\n\nexport const FeedList: React.FC<Props> = ({ dayGroupedFeed, loading, lastFeedElementIntersecting }) => {\n  const observer = useRef<IntersectionObserver>();\n\n  const lastFeedElementRef = useCallback((node: any) => {\n    if (loading) return;\n    if (observer.current) {\n      observer.current.disconnect();\n    }\n\n    observer.current = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting) {\n        if (lastFeedElementIntersecting) {\n          lastFeedElementIntersecting();\n        }\n      }\n    });\n    if (node) observer.current.observe(node);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loading]);\n\n  return (\n    <div className={'she-feed'} id={'she-feed'}>\n      {dayGroupedFeed.map((day, index) => {\n        if (dayGroupedFeed.length === index + 1) {\n          return (\n            <div key={day.day + index} ref={lastFeedElementRef}>\n              <h5 className=\"day-separator\">{day.day}</h5>\n              <FeedRollup sheFeed={day.data}/>\n            </div>\n          );\n        }\n        return (\n          <div key={day.day + index}>\n            <h5 className=\"day-separator\">{day.day}</h5>\n            <FeedRollup sheFeed={day.data}/>\n          </div>);\n      })}\n    </div>\n  );\n};\n","import React  from \"react\";\nimport dataRightsIcons from '../../../assets/images/hat-data-rights.png';\n\ntype Props = {\n    fetchingData: boolean;\n    filteredData?: boolean;\n}\n\nexport const FeedLoading: React.FC<Props> = ({ fetchingData, filteredData }) => {\n\n  return (\n    <div className=\"feedLoadingPage\">\n      <img className=\"feedLoadingLogo\" src={dataRightsIcons} alt=\"HAT Data rights logo\" />\n      {fetchingData && (\n        <div className=\"feedLoadingTitle\">Loading...</div>\n      )}\n        \n      {(!fetchingData && !filteredData) && (\n        <>\n          <div className=\"feedLoadingTitle\">No items found</div>\n          <div className=\"feedLoadingSubtitle\">Connect Data Plugs to see your data in the feed</div>\n        </>\n      )}\n\n      {(!fetchingData && filteredData) && (\n        <div className=\"feedLoadingTitle\">No results found for the selected dates</div>\n      )}\n    </div>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport { FeedList } from \"./FeedList\";\nimport { FeedLoading } from \"../../components/Feed/FeedLoading/FeedLoading\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getSheFeedFilteredData, selectSheFeedDisplayData, selectSheFeedFetching } from \"./feedSlice\";\n\ntype Props = {\n    selectedDates: {\n        since: number,\n        until: number\n    }\n}\n\nexport const FeedFilteredData: React.FC<Props> = ({ selectedDates }) => {\n  const feed = useSelector(selectSheFeedDisplayData);\n  const fetching = useSelector(selectSheFeedFetching);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getSheFeedFilteredData(selectedDates.since, selectedDates.until));\n  }, [selectedDates, dispatch]);\n\n  return (\n    <div className={'feed-wrapper'}>\n      <FeedList dayGroupedFeed={feed}/>\n      {feed.length === 0 && <FeedLoading filteredData fetchingData={fetching} />}\n    </div>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport { FeedList } from \"../../features/feed/FeedList\";\nimport { FeedLoading } from \"../Feed/FeedLoading/FeedLoading\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  getInitSheFeed,\n  getMoreSheFeedData,\n  selectSheFeedDisplayData,\n  selectSheFeedFetching\n} from \"../../features/feed/feedSlice\";\n\nexport const InfiniteScrolling: React.FC = () => {\n  const feed = useSelector(selectSheFeedDisplayData);\n  const fetching = useSelector(selectSheFeedFetching);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (feed.length === 0) {\n      dispatch(getInitSheFeed());\n    }\n  }, [feed, dispatch]);\n\n  const lastElementIntersecting = () => {\n    dispatch(getMoreSheFeedData());\n  };\n\n  return (\n    <>\n      <FeedList dayGroupedFeed={feed} loading={fetching} lastFeedElementIntersecting={() => lastElementIntersecting()}/>\n      {feed.length === 0 && <FeedLoading fetchingData={fetching}/>}\n    </>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport './Feed.scss';\nimport { FeedUserActions } from './FeedUserActions';\nimport { FeedFilteredData } from './FeedFilteredDataList';\nimport { InfiniteScrolling } from '../../components/InfiniteScrolling/InfiniteScrolling';\nimport { resetSheFeedValues } from './feedSlice';\nimport { useDispatch } from 'react-redux';\n\nconst Feed: React.FC = () => {\n  const [feedState, setFeedState] = useState('infinite-scrolling');\n  const [selectedDates, setSelectedDates] = useState({ since: 0, until: 0 });\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (selectedDates.since) {\n      setFeedState('filtering');\n    }\n  }, [selectedDates]);\n\n  const scrollToTheTop = () => {\n    const privateSpaceContent = document.getElementById('private-space-content');\n\n    if (privateSpaceContent) {\n      privateSpaceContent.scrollTop = 0;\n    }\n  };\n\n  const onRefreshClick = () => {\n    dispatch(resetSheFeedValues());\n    setFeedState('infinite-scrolling');\n  };\n\n  return (\n    <div className={'feed-wrapper'}>\n      {feedState === 'filtering' && <FeedFilteredData selectedDates={selectedDates} />}\n\n      {feedState === 'infinite-scrolling' && <InfiniteScrolling />}\n      <FeedUserActions\n        onSelectedDates={(since, until) => setSelectedDates({ since: since, until: until })}\n        onRefresh={onRefreshClick}\n        onGoToToday={scrollToTheTop}\n      />\n    </div>\n  );\n};\n\nexport default Feed;\n"],"sourceRoot":""}